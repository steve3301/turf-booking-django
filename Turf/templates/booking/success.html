{% extends "booking/base.html" %}
{% block content %}

<div style="max-width:650px;margin:80px auto;padding:30px;
background:#020617;border-radius:22px;
border:1px solid #1f2937;color:white">

  <h2 style="color:#4ade80;">Booking Confirmed ✅</h2>

  <p style="opacity:0.8;margin-bottom:20px;">
    Please save this QR. Show it at the turf for entry.
  </p>

  <!-- QR -->
  <div style="text-align:center;margin:25px 0;">
    <img src="/media/{{ booking.qr_path }}"
         style="width:200px;height:200px;
                background:white;padding:10px;
                border-radius:16px;">
  </div>

  <!-- DOWNLOAD BUTTON -->
  <div style="text-align:center;margin-bottom:25px;">
    <a href="{% url 'download_booking_pdf' booking.booking_id %}"
       style="display:inline-block;
              background:#22c55e;
              color:#020617;
              padding:12px 22px;
              border-radius:10px;
              font-weight:600;
              text-decoration:none;">
      ⬇ Download QR & Booking Details
    </a>
  </div>

  <!-- Booking Info -->
  <div style="background:#0f172a;padding:20px;border-radius:16px;">
    <p><strong>Booking ID:</strong><br>{{ booking.booking_id }}</p>
    <p><strong>Name:</strong> {{ booking.user_name }}</p>
    <p><strong>Phone:</strong> {{ booking.phone }}</p>

    {% with booking.slots.first as first_slot %}
      <p><strong>Turf:</strong> {{ first_slot.sport.name }}</p>
      <p><strong>Date:</strong> {{ first_slot.date }}</p>
    {% endwith %}

    <hr style="margin:15px 0;border-color:#1f2937;">

    <strong>Booked Slots:</strong>
    <ul style="margin-top:10px;">
      {% for slot in booking.slots.all %}
        <li>{{ slot.display_time }}</li>
      {% endfor %}
    </ul>
  </div>

</div>

{% endblock %}
