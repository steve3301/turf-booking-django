{% extends "booking/base.html" %}
{% load static %}
{% block content %}

<div class="container" style="padding:80px 0">

  <h1 style="margin-bottom:10px">{{ sport.name }}</h1>
  <p style="color:#94a3b8;margin-bottom:30px">Choose your time. Lock your game.</p>

  <div class="date-strip" style="display:flex;gap:12px;margin-bottom:40px;overflow-x:auto">
    {% for d in dates %}
      <a href="?date={{ d|date:'Y-m-d' }}"
         class="date-box {% if d == selected_date %}active{% endif %}"
         style="padding:14px 18px;border-radius:14px;border:1px solid #1f2937;text-decoration:none;color:white">
        <small>{{ d|date:"D" }}</small><br>
        <strong>{{ d|date:"d" }}</strong>
      </a>
    {% endfor %}
  </div>

  <div class="cards">
    {% for slot in slots %}

      {% if slot.is_booked %}
        <div class="card">
          <div class="card-body">
            <h3>{{ slot.start_label }} – {{ slot.end_label }}</h3>
            <p>Booked</p>
          </div>
        </div>

      {% elif slot.time.hour < current_hour and selected_date == today %}
        <div class="card">
          <div class="card-body">
            <h3>{{ slot.start_label }} – {{ slot.end_label }}</h3>
            <p>Expired</p>
          </div>
        </div>

      {% else %}
        <div class="card">
          <div class="card-body">
            <h3>{{ slot.start_label }} – {{ slot.end_label }}</h3>
            <p>₹{{ slot.price }}</p>
          </div>
        </div>
      {% endif %}

    {% endfor %}
  </div>

</div>

{% endblock %}
